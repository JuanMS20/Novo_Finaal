{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: \"/\",\n    component: () => import(\"../layouts/LandingLayout.vue\"),\n    children: [{\n      path: \"\",\n      component: () => import(\"../views/HomePage.vue\")\n    }, {\n      path: \"login\",\n      component: () => import(\"../views/LoginPage.vue\")\n    }, {\n      path: \"registro\",\n      component: () => import(\"../views/RegistroPage.vue\")\n    }]\n  }, {\n    path: \"/app\",\n    component: () => import(\"../layouts/MainLayout.vue\"),\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      path: \"\",\n      redirect: \"/app/principal\"\n    }, {\n      path: \"principal\",\n      component: () => import(\"../views/PrincipalPage.vue\")\n    }, {\n      path: \"productos\",\n      component: () => import(\"../views/ProductosPage.vue\")\n    }, {\n      path: \"crearproducto\",\n      component: () => import(\"../views/CrearProducto.vue\")\n    }, {\n      path: \"detallesproducto/:id\",\n      name: \"DetallesProducto\",\n      component: () => import(\"../views/DetallesPage.vue\")\n    }, {\n      path: \"perfil\",\n      component: () => import(\"../views/PerfilUser.vue\")\n    }, {\n      path: \"editarp\",\n      component: () => import(\"../views/EditarProductos.vue\")\n    }, {\n      path: \"terminoss\",\n      component: () => import(\"../components/TerminosServicio.vue\")\n    }]\n  }, {\n    path: \"/:pathMatch(.*)*\",\n    redirect: \"/\"\n  }]\n});\n\n// Navegación protegida\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = localStorage.getItem('user');\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    if (isAuthenticated && (to.path === '/login' || to.path === '/registro')) {\n      next('/app/principal');\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","router","history","routes","path","component","children","meta","requiresAuth","redirect","name","beforeEach","to","from","next","isAuthenticated","localStorage","getItem","matched","some","record"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes: [\r\n        {\r\n            path: \"/\",\r\n            component: () => import(\"../layouts/LandingLayout.vue\"),\r\n            children: [\r\n                { path: \"\", component: () => import(\"../views/HomePage.vue\") },\r\n                { path: \"login\", component: () => import(\"../views/LoginPage.vue\") },\r\n                { path: \"registro\", component: () => import(\"../views/RegistroPage.vue\") },\r\n            ],\r\n        },\r\n        {\r\n            path: \"/app\",\r\n            component: () => import(\"../layouts/MainLayout.vue\"),\r\n            meta: { requiresAuth: true },\r\n            children: [\r\n                { \r\n                    path: \"\", \r\n                    redirect: \"/app/principal\"\r\n                },\r\n                { \r\n                    path: \"principal\", \r\n                    component: () => import(\"../views/PrincipalPage.vue\")\r\n                },\r\n                { \r\n                    path: \"productos\", \r\n                    component: () => import(\"../views/ProductosPage.vue\") \r\n                },\r\n                { \r\n                    path: \"crearproducto\", \r\n                    component: () => import(\"../views/CrearProducto.vue\") \r\n                },\r\n                { \r\n                    path: \"detallesproducto/:id\", \r\n                    name: \"DetallesProducto\", \r\n                    component: () => import(\"../views/DetallesPage.vue\") \r\n                },\r\n                { \r\n                    path: \"perfil\", \r\n                    component: () => import(\"../views/PerfilUser.vue\") \r\n                },\r\n                { \r\n                    path: \"editarp\", \r\n                    component: () => import(\"../views/EditarProductos.vue\") \r\n                },\r\n                { \r\n                    path: \"terminoss\", \r\n                    component: () => import(\"../components/TerminosServicio.vue\") \r\n                },\r\n            ],\r\n        },\r\n        {\r\n            path: \"/:pathMatch(.*)*\",\r\n            redirect: \"/\"\r\n        }\r\n    ],\r\n});\r\n\r\n// Navegación protegida\r\nrouter.beforeEach((to, from, next) => {\r\n    const isAuthenticated = localStorage.getItem('user')\r\n    \r\n    if (to.matched.some(record => record.meta.requiresAuth)) {\r\n        if (!isAuthenticated) {\r\n            next('/login')\r\n        } else {\r\n            next()\r\n        }\r\n    } else {\r\n        if (isAuthenticated && (to.path === '/login' || to.path === '/registro')) {\r\n            next('/app/principal')\r\n        } else {\r\n            next()\r\n        }\r\n    }\r\n})\r\n\r\nexport default router;\r\n"],"mappings":";;AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,MAAMC,MAAM,GAAGF,YAAY,CAAC;EACxBG,OAAO,EAAEF,gBAAgB,CAAC,CAAC;EAC3BG,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;IACvDC,QAAQ,EAAE,CACN;MAAEF,IAAI,EAAE,EAAE;MAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB;IAAE,CAAC,EAC9D;MAAED,IAAI,EAAE,OAAO;MAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB;IAAE,CAAC,EACpE;MAAED,IAAI,EAAE,UAAU;MAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B;IAAE,CAAC;EAElF,CAAC,EACD;IACID,IAAI,EAAE,MAAM;IACZC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B,CAAC;IACpDE,IAAI,EAAE;MAAEC,YAAY,EAAE;IAAK,CAAC;IAC5BF,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,EAAE;MACRK,QAAQ,EAAE;IACd,CAAC,EACD;MACIL,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,eAAe;MACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,sBAAsB;MAC5BM,IAAI,EAAE,kBAAkB;MACxBL,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B;IACvD,CAAC,EACD;MACID,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,yBAAyB;IACrD,CAAC,EACD;MACID,IAAI,EAAE,SAAS;MACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B;IAC1D,CAAC,EACD;MACID,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oCAAoC;IAChE,CAAC;EAET,CAAC,EACD;IACID,IAAI,EAAE,kBAAkB;IACxBK,QAAQ,EAAE;EACd,CAAC;AAET,CAAC,CAAC;;AAEF;AACAR,MAAM,CAACU,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAEpD,IAAIL,EAAE,CAACM,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACC,YAAY,CAAC,EAAE;IACrD,IAAI,CAACO,eAAe,EAAE;MAClBD,IAAI,CAAC,QAAQ,CAAC;IAClB,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ,CAAC,MAAM;IACH,IAAIC,eAAe,KAAKH,EAAE,CAACR,IAAI,KAAK,QAAQ,IAAIQ,EAAE,CAACR,IAAI,KAAK,WAAW,CAAC,EAAE;MACtEU,IAAI,CAAC,gBAAgB,CAAC;IAC1B,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ;AACJ,CAAC,CAAC;AAEF,eAAeb,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}