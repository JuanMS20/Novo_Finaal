{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"create-product\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"h1\", null, \"Publicar Producto\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleSubmit, [\"prevent\"]),\n    class: \"product-form\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", null, \"Título\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.product.title = $event),\n    type: \"text\",\n    required: \"\",\n    placeholder: \"Nombre del producto\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.title]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", null, \"Descripción\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.product.description = $event),\n    required: \"\",\n    placeholder: \"Describe tu producto\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.description]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", null, \"Precio\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.product.price = $event),\n    type: \"number\",\n    required: \"\",\n    min: \"0\",\n    placeholder: \"Precio en pesos\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.product.price]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"Categoría\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.product.category = $event),\n    required: \"\"\n  }, _cache[8] || (_cache[8] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-c4c0c886>Selecciona una categoría</option><option value=\\\"libros\\\" data-v-c4c0c886>Libros</option><option value=\\\"notas\\\" data-v-c4c0c886>Notas y Apuntes</option><option value=\\\"electronicos\\\" data-v-c4c0c886>Electrónicos</option><option value=\\\"suministros\\\" data-v-c4c0c886>Suministros</option>\", 5)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.product.category]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"Condición\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.product.condition_state = $event),\n    required: \"\"\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Selecciona la condición\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Nuevo\"\n  }, \"Nuevo\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Semi-nuevo\"\n  }, \"Semi-nuevo\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Usado\"\n  }, \"Usado\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.product.condition_state]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"Imagen del producto\", -1 /* HOISTED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: $setup.handleImageChange,\n    accept: \"image/*\",\n    required: \"\"\n  }, null, 32 /* NEED_HYDRATION */)]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"submit-button\",\n    disabled: $setup.loading\n  }, _toDisplayString($setup.loading ? 'Publicando...' : 'Publicar Producto'), 9 /* TEXT, PROPS */, _hoisted_9)], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_withModifiers","$setup","handleSubmit","_hoisted_3","_cache","$event","product","title","type","required","placeholder","_hoisted_4","description","_hoisted_5","price","min","_hoisted_6","category","_createStaticVNode","_hoisted_7","condition_state","value","_hoisted_8","onChange","handleImageChange","accept","disabled","loading","_hoisted_9"],"sources":["C:\\Users\\maylo\\OneDrive\\Escritorio\\novo-front 1\\src\\views\\CrearProducto.vue"],"sourcesContent":["<template>\r\n  <div class=\"create-product\">\r\n    <div class=\"container\">\r\n      <h1>Publicar Producto</h1>\r\n      \r\n      <form @submit.prevent=\"handleSubmit\" class=\"product-form\">\r\n        <div class=\"form-group\">\r\n          <label>Título</label>\r\n          <input \r\n            v-model=\"product.title\" \r\n            type=\"text\" \r\n            required\r\n            placeholder=\"Nombre del producto\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Descripción</label>\r\n          <textarea \r\n            v-model=\"product.description\" \r\n            required\r\n            placeholder=\"Describe tu producto\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Precio</label>\r\n          <input \r\n            v-model=\"product.price\" \r\n            type=\"number\" \r\n            required\r\n            min=\"0\"\r\n            placeholder=\"Precio en pesos\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Categoría</label>\r\n          <select v-model=\"product.category\" required>\r\n            <option value=\"\">Selecciona una categoría</option>\r\n            <option value=\"libros\">Libros</option>\r\n            <option value=\"notas\">Notas y Apuntes</option>\r\n            <option value=\"electronicos\">Electrónicos</option>\r\n            <option value=\"suministros\">Suministros</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Condición</label>\r\n          <select v-model=\"product.condition_state\" required>\r\n            <option value=\"\">Selecciona la condición</option>\r\n            <option value=\"Nuevo\">Nuevo</option>\r\n            <option value=\"Semi-nuevo\">Semi-nuevo</option>\r\n            <option value=\"Usado\">Usado</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Imagen del producto</label>\r\n          <input \r\n            type=\"file\" \r\n            @change=\"handleImageChange\" \r\n            accept=\"image/*\"\r\n            required\r\n          >\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"submit-button\" :disabled=\"loading\">\r\n          {{ loading ? 'Publicando...' : 'Publicar Producto' }}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { productService } from '@/services/products'\r\nimport { authService } from '@/services/auth'\r\n\r\nconst router = useRouter()\r\nconst loading = ref(false)\r\nconst imageFile = ref(null)\r\n\r\nconst product = ref({\r\n  title: '',\r\n  description: '',\r\n  price: '',\r\n  category: '',\r\n  condition_state: '',\r\n})\r\n\r\nconst handleImageChange = (event) => {\r\n  imageFile.value = event.target.files[0]\r\n}\r\n\r\nconst handleSubmit = async () => {\r\n  loading.value = true\r\n  \r\n  try {\r\n    const currentUser = authService.getCurrentUser()\r\n    if (!currentUser) {\r\n      throw new Error('Debes iniciar sesión para publicar')\r\n    }\r\n\r\n    const productData = {\r\n      ...product.value,\r\n      userId: currentUser.uid\r\n    }\r\n\r\n    await productService.createProduct(productData, imageFile.value)\r\n    router.push('/app/productos')\r\n  } catch (error) {\r\n    console.error('Error al crear producto:', error)\r\n    alert(error.message)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.create-product {\r\n  padding: 2rem 0;\r\n  background-color: #f8f9fa;\r\n  min-height: 100vh;\r\n}\r\n\r\n.container {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 0 1rem;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n  color: #1f2937;\r\n}\r\n\r\n.product-form {\r\n  background-color: white;\r\n  padding: 2rem;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input,\r\n.form-group textarea,\r\n.form-group select {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.5rem;\r\n  font-size: 1rem;\r\n}\r\n\r\n.form-group textarea {\r\n  height: 150px;\r\n  resize: vertical;\r\n}\r\n\r\n.submit-button {\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background-color: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.submit-button:hover:not(:disabled) {\r\n  background-color: #1d4ed8;\r\n}\r\n\r\n.submit-button:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}