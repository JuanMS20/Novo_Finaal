{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8090/api';\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor para añadir el token a las peticiones\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nexport const authService = {\n  async login(email, password) {\n    const formData = new FormData();\n    formData.append('username', email);\n    formData.append('password', password);\n    const response = await axios.post(`${API_URL}/token`, formData);\n    if (response.data.access_token) {\n      localStorage.setItem('token', response.data.access_token);\n    }\n    return response.data;\n  },\n  async register(email, password) {\n    const response = await api.post('/users/', {\n      email,\n      password\n    });\n    return response.data;\n  },\n  logout() {\n    localStorage.removeItem('token');\n  }\n};\nexport const taskService = {\n  async getTasks() {\n    const response = await api.get('/tasks/');\n    return response.data;\n  },\n  async createTask(task) {\n    const response = await api.post('/tasks/', task);\n    return response.data;\n  },\n  async updateTask(id, task) {\n    const response = await api.put(`/tasks/${id}`, task);\n    return response.data;\n  },\n  async deleteTask(id) {\n    const response = await api.delete(`/tasks/${id}`);\n    return response.data;\n  }\n};","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","authService","login","email","password","formData","FormData","append","response","post","data","access_token","setItem","register","logout","removeItem","taskService","getTasks","get","createTask","task","updateTask","id","put","deleteTask","delete"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8090/api';\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Interceptor para añadir el token a las peticiones\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport const authService = {\r\n    async login(email, password) {\r\n        const formData = new FormData();\r\n        formData.append('username', email);\r\n        formData.append('password', password);\r\n        const response = await axios.post(`${API_URL}/token`, formData);\r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    },\r\n\r\n    async register(email, password) {\r\n        const response = await api.post('/users/', {\r\n            email,\r\n            password,\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    },\r\n};\r\n\r\nexport const taskService = {\r\n    async getTasks() {\r\n        const response = await api.get('/tasks/');\r\n        return response.data;\r\n    },\r\n\r\n    async createTask(task) {\r\n        const response = await api.post('/tasks/', task);\r\n        return response.data;\r\n    },\r\n\r\n    async updateTask(id, task) {\r\n        const response = await api.put(`/tasks/${id}`, task);\r\n        return response.data;\r\n    },\r\n\r\n    async deleteTask(id) {\r\n        const response = await api.delete(`/tasks/${id}`);\r\n        return response.data;\r\n    },\r\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACrBC,OAAO,EAAEH,OAAO;EAChBI,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAEF;AACAH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CACvBC,MAAM,IAAK;EACR,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,EACAK,KAAK,IAAK;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG;EACvB,MAAMC,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IACzB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEJ,KAAK,CAAC;IAClCE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;IACrC,MAAMI,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,IAAI,CAAC,GAAGxB,OAAO,QAAQ,EAAEoB,QAAQ,CAAC;IAC/D,IAAIG,QAAQ,CAACE,IAAI,CAACC,YAAY,EAAE;MAC5BhB,YAAY,CAACiB,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC;IAC7D;IACA,OAAOH,QAAQ,CAACE,IAAI;EACxB,CAAC;EAED,MAAMG,QAAQA,CAACV,KAAK,EAAEC,QAAQ,EAAE;IAC5B,MAAMI,QAAQ,GAAG,MAAMtB,GAAG,CAACuB,IAAI,CAAC,SAAS,EAAE;MACvCN,KAAK;MACLC;IACJ,CAAC,CAAC;IACF,OAAOI,QAAQ,CAACE,IAAI;EACxB,CAAC;EAEDI,MAAMA,CAAA,EAAG;IACLnB,YAAY,CAACoB,UAAU,CAAC,OAAO,CAAC;EACpC;AACJ,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG;EACvB,MAAMC,QAAQA,CAAA,EAAG;IACb,MAAMT,QAAQ,GAAG,MAAMtB,GAAG,CAACgC,GAAG,CAAC,SAAS,CAAC;IACzC,OAAOV,QAAQ,CAACE,IAAI;EACxB,CAAC;EAED,MAAMS,UAAUA,CAACC,IAAI,EAAE;IACnB,MAAMZ,QAAQ,GAAG,MAAMtB,GAAG,CAACuB,IAAI,CAAC,SAAS,EAAEW,IAAI,CAAC;IAChD,OAAOZ,QAAQ,CAACE,IAAI;EACxB,CAAC;EAED,MAAMW,UAAUA,CAACC,EAAE,EAAEF,IAAI,EAAE;IACvB,MAAMZ,QAAQ,GAAG,MAAMtB,GAAG,CAACqC,GAAG,CAAC,UAAUD,EAAE,EAAE,EAAEF,IAAI,CAAC;IACpD,OAAOZ,QAAQ,CAACE,IAAI;EACxB,CAAC;EAED,MAAMc,UAAUA,CAACF,EAAE,EAAE;IACjB,MAAMd,QAAQ,GAAG,MAAMtB,GAAG,CAACuC,MAAM,CAAC,UAAUH,EAAE,EAAE,CAAC;IACjD,OAAOd,QAAQ,CAACE,IAAI;EACxB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}