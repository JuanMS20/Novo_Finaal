{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nvar API_URL = 'http://localhost:8090/api';\nvar api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor para añadir el token a las peticiones\napi.interceptors.request.use(function (config) {\n  var token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = \"Bearer \".concat(token);\n  }\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport var authService = {\n  login: function login(email, password) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var formData, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            formData = new FormData();\n            formData.append('username', email);\n            formData.append('password', password);\n            _context.next = 5;\n            return axios.post(\"\".concat(API_URL, \"/token\"), formData);\n          case 5:\n            response = _context.sent;\n            if (response.data.access_token) {\n              localStorage.setItem('token', response.data.access_token);\n            }\n            return _context.abrupt(\"return\", response.data);\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  register: function register(email, password) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return api.post('/users/', {\n              email: email,\n              password: password\n            });\n          case 2:\n            response = _context2.sent;\n            return _context2.abrupt(\"return\", response.data);\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  logout: function logout() {\n    localStorage.removeItem('token');\n  }\n};\nexport var taskService = {\n  getTasks: function getTasks() {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return api.get('/tasks/');\n          case 2:\n            response = _context3.sent;\n            return _context3.abrupt(\"return\", response.data);\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }))();\n  },\n  createTask: function createTask(task) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return api.post('/tasks/', task);\n          case 2:\n            response = _context4.sent;\n            return _context4.abrupt(\"return\", response.data);\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }))();\n  },\n  updateTask: function updateTask(id, task) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return api.put(\"/tasks/\".concat(id), task);\n          case 2:\n            response = _context5.sent;\n            return _context5.abrupt(\"return\", response.data);\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }))();\n  },\n  deleteTask: function deleteTask(id) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return api[\"delete\"](\"/tasks/\".concat(id));\n          case 2:\n            response = _context6.sent;\n            return _context6.abrupt(\"return\", response.data);\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }))();\n  }\n};","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","authService","login","email","password","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","wrap","_callee$","_context","prev","next","FormData","append","post","sent","data","access_token","setItem","abrupt","stop","register","_callee2","_callee2$","_context2","logout","removeItem","taskService","getTasks","_callee3","_callee3$","_context3","get","createTask","task","_callee4","_callee4$","_context4","updateTask","id","_callee5","_callee5$","_context5","put","deleteTask","_callee6","_callee6$","_context6"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8090/api';\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Interceptor para añadir el token a las peticiones\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport const authService = {\r\n    async login(email, password) {\r\n        const formData = new FormData();\r\n        formData.append('username', email);\r\n        formData.append('password', password);\r\n        const response = await axios.post(`${API_URL}/token`, formData);\r\n        if (response.data.access_token) {\r\n            localStorage.setItem('token', response.data.access_token);\r\n        }\r\n        return response.data;\r\n    },\r\n\r\n    async register(email, password) {\r\n        const response = await api.post('/users/', {\r\n            email,\r\n            password,\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    },\r\n};\r\n\r\nexport const taskService = {\r\n    async getTasks() {\r\n        const response = await api.get('/tasks/');\r\n        return response.data;\r\n    },\r\n\r\n    async createTask(task) {\r\n        const response = await api.post('/tasks/', task);\r\n        return response.data;\r\n    },\r\n\r\n    async updateTask(id, task) {\r\n        const response = await api.put(`/tasks/${id}`, task);\r\n        return response.data;\r\n    },\r\n\r\n    async deleteTask(id) {\r\n        const response = await api.delete(`/tasks/${id}`);\r\n        return response.data;\r\n    },\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}