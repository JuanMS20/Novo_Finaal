{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { authService } from '../services/auth';\nexport default {\n  __name: 'RegistroPage',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var router = useRouter();\n    var formData = ref({\n      fullName: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    });\n    var loading = ref(false);\n    var error = ref(null);\n    var validateForm = function validateForm() {\n      // Validar nombre completo\n      if (formData.value.fullName.trim().length < 3) {\n        throw new Error('El nombre debe tener al menos 3 caracteres');\n      }\n\n      // Validar email\n      var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(formData.value.email)) {\n        throw new Error('El correo electrónico no es válido');\n      }\n\n      // Validar contraseña\n      if (formData.value.password.length < 6) {\n        throw new Error('La contraseña debe tener al menos 6 caracteres');\n      }\n\n      // Validar confirmación de contraseña\n      if (formData.value.password !== formData.value.confirmPassword) {\n        throw new Error('Las contraseñas no coinciden');\n      }\n    };\n    var handleRegister = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var userData, _err$response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              error.value = null;\n              loading.value = true;\n\n              // Validar formulario\n              validateForm();\n              userData = {\n                fullName: formData.value.fullName,\n                email: formData.value.email,\n                password: formData.value.password\n              };\n              _context.next = 7;\n              return authService.register(userData);\n            case 7:\n              router.push('/app/principal');\n              _context.next = 14;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error en registro:', _context.t0);\n              error.value = ((_err$response = _context.t0.response) === null || _err$response === void 0 || (_err$response = _err$response.data) === null || _err$response === void 0 ? void 0 : _err$response.message) || _context.t0.message || 'Error durante el registro';\n            case 14:\n              _context.prev = 14;\n              loading.value = false;\n              return _context.finish(14);\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 10, 14, 17]]);\n      }));\n      return function handleRegister() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var __returned__ = {\n      router: router,\n      formData: formData,\n      loading: loading,\n      error: error,\n      validateForm: validateForm,\n      handleRegister: handleRegister,\n      ref: ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get authService() {\n        return authService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","authService","router","formData","fullName","email","password","confirmPassword","loading","error","validateForm","value","trim","length","Error","emailRegex","test","handleRegister","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","_err$response","wrap","_callee$","_context","prev","next","register","push","t0","console","response","data","message","finish","stop","apply","arguments"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/views/RegistroPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-page\">\r\n    <div class=\"register-container\">\r\n      <h1>Registro</h1>\r\n      \r\n      <form @submit.prevent=\"handleRegister\" class=\"register-form\">\r\n        <div class=\"form-group\">\r\n          <label>Nombre completo</label>\r\n          <input \r\n            v-model=\"formData.fullName\"\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"Ingresa tu nombre completo\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Correo electrónico</label>\r\n          <input \r\n            v-model=\"formData.email\"\r\n            type=\"email\"\r\n            required\r\n            placeholder=\"Ingresa tu correo electrónico\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Contraseña</label>\r\n          <input \r\n            v-model=\"formData.password\"\r\n            type=\"password\"\r\n            required\r\n            placeholder=\"Ingresa tu contraseña\"\r\n          >\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Confirmar contraseña</label>\r\n          <input \r\n            v-model=\"formData.confirmPassword\"\r\n            type=\"password\"\r\n            required\r\n            placeholder=\"Confirma tu contraseña\"\r\n          >\r\n        </div>\r\n\r\n        <div v-if=\"error\" class=\"error-message\">\r\n          {{ error }}\r\n        </div>\r\n\r\n        <button type=\"submit\" :disabled=\"loading\" class=\"register-button\">\r\n          {{ loading ? 'Registrando...' : 'Registrarse' }}\r\n        </button>\r\n\r\n        <p class=\"login-link\">\r\n          ¿Ya tienes una cuenta? \r\n          <router-link to=\"/login\">Inicia sesión</router-link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { authService } from '../services/auth'\r\n\r\nconst router = useRouter()\r\n\r\nconst formData = ref({\r\n  fullName: '',\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst error = ref(null)\r\n\r\nconst validateForm = () => {\r\n  // Validar nombre completo\r\n  if (formData.value.fullName.trim().length < 3) {\r\n    throw new Error('El nombre debe tener al menos 3 caracteres')\r\n  }\r\n\r\n  // Validar email\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n  if (!emailRegex.test(formData.value.email)) {\r\n    throw new Error('El correo electrónico no es válido')\r\n  }\r\n\r\n  // Validar contraseña\r\n  if (formData.value.password.length < 6) {\r\n    throw new Error('La contraseña debe tener al menos 6 caracteres')\r\n  }\r\n\r\n  // Validar confirmación de contraseña\r\n  if (formData.value.password !== formData.value.confirmPassword) {\r\n    throw new Error('Las contraseñas no coinciden')\r\n  }\r\n}\r\n\r\nconst handleRegister = async () => {\r\n  try {\r\n    error.value = null\r\n    loading.value = true\r\n\r\n    // Validar formulario\r\n    validateForm()\r\n\r\n    const userData = {\r\n      fullName: formData.value.fullName,\r\n      email: formData.value.email,\r\n      password: formData.value.password\r\n    }\r\n\r\n    await authService.register(userData)\r\n    router.push('/app/principal')\r\n  } catch (err) {\r\n    console.error('Error en registro:', err)\r\n    error.value = err.response?.data?.message || err.message || 'Error durante el registro'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #f3f4f6;\r\n  padding: 2rem;\r\n}\r\n\r\n.register-container {\r\n  background-color: white;\r\n  padding: 2rem;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #1f2937;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  color: #4b5563;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.375rem;\r\n  font-size: 1rem;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);\r\n}\r\n\r\n.error-message {\r\n  color: #dc2626;\r\n  margin-bottom: 1rem;\r\n  text-align: center;\r\n}\r\n\r\n.register-button {\r\n  width: 100%;\r\n  padding: 0.75rem;\r\n  background-color: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 0.375rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.register-button:hover:not(:disabled) {\r\n  background-color: #1d4ed8;\r\n}\r\n\r\n.register-button:disabled {\r\n  opacity: 0.7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.login-link {\r\n  text-align: center;\r\n  margin-top: 1rem;\r\n  color: #6b7280;\r\n}\r\n\r\n.login-link a {\r\n  color: #2563eb;\r\n  text-decoration: none;\r\n}\r\n\r\n.login-link a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;AAgEA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,WAAW,QAAQ,kBAAkB;;;;;;IAE9C,IAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC;IAE1B,IAAMG,QAAQ,GAAGJ,GAAG,CAAC;MACnBK,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,IAAMC,OAAO,GAAGT,GAAG,CAAC,KAAK,CAAC;IAC1B,IAAMU,KAAK,GAAGV,GAAG,CAAC,IAAI,CAAC;IAEvB,IAAMW,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;MACzB;MACA,IAAIP,QAAQ,CAACQ,KAAK,CAACP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE;QAC7C,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;MAC/D;;MAEA;MACA,IAAMC,UAAU,GAAG,4BAA4B;MAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAACb,QAAQ,CAACQ,KAAK,CAACN,KAAK,CAAC,EAAE;QAC1C,MAAM,IAAIS,KAAK,CAAC,oCAAoC,CAAC;MACvD;;MAEA;MACA,IAAIX,QAAQ,CAACQ,KAAK,CAACL,QAAQ,CAACO,MAAM,GAAG,CAAC,EAAE;QACtC,MAAM,IAAIC,KAAK,CAAC,gDAAgD,CAAC;MACnE;;MAEA;MACA,IAAIX,QAAQ,CAACQ,KAAK,CAACL,QAAQ,KAAKH,QAAQ,CAACQ,KAAK,CAACJ,eAAe,EAAE;QAC9D,MAAM,IAAIO,KAAK,CAAC,8BAA8B,CAAC;MACjD;IACF,CAAC;IAED,IAAMG,cAAc;MAAA,IAAAC,KAAA,GAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;QAAA,IAAAC,QAAA,EAAAC,aAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAEnBnB,KAAK,CAACE,KAAK,GAAG,IAAI;cAClBH,OAAO,CAACG,KAAK,GAAG,IAAI;;cAEpB;cACAD,YAAY,CAAC,CAAC;cAERa,QAAQ,GAAG;gBACfnB,QAAQ,EAAED,QAAQ,CAACQ,KAAK,CAACP,QAAQ;gBACjCC,KAAK,EAAEF,QAAQ,CAACQ,KAAK,CAACN,KAAK;gBAC3BC,QAAQ,EAAEH,QAAQ,CAACQ,KAAK,CAACL;cAC3B,CAAC;cAAAqB,QAAA,CAAAE,IAAA;cAAA,OAEK5B,WAAW,CAAC6B,QAAQ,CAACP,QAAQ,CAAC;YAAA;cACpCrB,MAAM,CAAC6B,IAAI,CAAC,gBAAgB,CAAC;cAAAJ,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;cAE7BM,OAAO,CAACxB,KAAK,CAAC,oBAAoB,EAAAkB,QAAA,CAAAK,EAAK,CAAC;cACxCvB,KAAK,CAACE,KAAK,GAAG,EAAAa,aAAA,GAAAG,QAAA,CAAAK,EAAA,CAAIE,QAAQ,cAAAV,aAAA,gBAAAA,aAAA,GAAZA,aAAA,CAAcW,IAAI,cAAAX,aAAA,uBAAlBA,aAAA,CAAoBY,OAAO,KAAIT,QAAA,CAAAK,EAAA,CAAII,OAAO,IAAI,2BAA2B;YAAA;cAAAT,QAAA,CAAAC,IAAA;cAEvFpB,OAAO,CAACG,KAAK,GAAG,KAAK;cAAA,OAAAgB,QAAA,CAAAU,MAAA;YAAA;YAAA;cAAA,OAAAV,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA,CAExB;MAAA,gBAtBKL,cAAcA,CAAA;QAAA,OAAAC,KAAA,CAAAqB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAsBnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}