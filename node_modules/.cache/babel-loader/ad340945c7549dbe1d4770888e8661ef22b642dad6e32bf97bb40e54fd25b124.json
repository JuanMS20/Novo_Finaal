{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [{\n    path: \"/\",\n    component: () => import(\"../layouts/LandingLayout.vue\"),\n    children: [{\n      path: \"\",\n      component: () => import(\"../views/HomePage.vue\"),\n      beforeEnter: (to, from, next) => {\n        next('/app/principal');\n      }\n    }, {\n      path: \"login\",\n      component: () => import(\"../views/LoginPage.vue\")\n    }, {\n      path: \"registro\",\n      component: () => import(\"../views/RegistroPage.vue\")\n    }]\n  }, {\n    path: \"/app\",\n    component: () => import(\"../layouts/MainLayout.vue\"),\n    children: [{\n      path: \"\",\n      redirect: \"/app/principal\"\n    }, {\n      path: \"principal\",\n      component: () => import(\"../views/PrincipalPage.vue\")\n    }, {\n      path: \"productos\",\n      component: () => import(\"../views/ProductosPage.vue\")\n    }, {\n      path: \"crearproducto\",\n      component: () => import(\"../views/CrearProducto.vue\")\n    }, {\n      path: \"detallesproducto/:id\",\n      name: \"DetallesProducto\",\n      component: () => import(\"../views/DetallesPage.vue\")\n    }, {\n      path: \"perfil\",\n      component: () => import(\"../views/PerfilUser.vue\")\n    }, {\n      path: \"editarp\",\n      component: () => import(\"../views/EditarProductos.vue\")\n    }, {\n      path: \"terminoss\",\n      component: () => import(\"../components/TerminosServicio.vue\")\n    }]\n  }, {\n    path: \"/:pathMatch(.*)*\",\n    redirect: \"/\"\n  }]\n});\n\n// Navegación protegida - solo para rutas específicas que requieren autenticación\nrouter.beforeEach((to, from, next) => {\n  const protectedRoutes = ['/app/perfil', '/app/crearproducto', '/app/editarp'];\n  const isAuthenticated = localStorage.getItem('user');\n  if (protectedRoutes.includes(to.path)) {\n    if (!isAuthenticated) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","router","history","routes","path","component","children","beforeEnter","to","from","next","redirect","name","beforeEach","protectedRoutes","isAuthenticated","localStorage","getItem","includes"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes: [\r\n        {\r\n            path: \"/\",\r\n            component: () => import(\"../layouts/LandingLayout.vue\"),\r\n            children: [\r\n                { \r\n                    path: \"\", \r\n                    component: () => import(\"../views/HomePage.vue\"),\r\n                    beforeEnter: (to, from, next) => {\r\n                        next('/app/principal')\r\n                    }\r\n                },\r\n                { path: \"login\", component: () => import(\"../views/LoginPage.vue\") },\r\n                { path: \"registro\", component: () => import(\"../views/RegistroPage.vue\") },\r\n            ],\r\n        },\r\n        {\r\n            path: \"/app\",\r\n            component: () => import(\"../layouts/MainLayout.vue\"),\r\n            children: [\r\n                { \r\n                    path: \"\", \r\n                    redirect: \"/app/principal\"\r\n                },\r\n                { \r\n                    path: \"principal\", \r\n                    component: () => import(\"../views/PrincipalPage.vue\")\r\n                },\r\n                { \r\n                    path: \"productos\", \r\n                    component: () => import(\"../views/ProductosPage.vue\") \r\n                },\r\n                { \r\n                    path: \"crearproducto\", \r\n                    component: () => import(\"../views/CrearProducto.vue\") \r\n                },\r\n                { \r\n                    path: \"detallesproducto/:id\", \r\n                    name: \"DetallesProducto\", \r\n                    component: () => import(\"../views/DetallesPage.vue\") \r\n                },\r\n                { \r\n                    path: \"perfil\", \r\n                    component: () => import(\"../views/PerfilUser.vue\") \r\n                },\r\n                { \r\n                    path: \"editarp\", \r\n                    component: () => import(\"../views/EditarProductos.vue\") \r\n                },\r\n                { \r\n                    path: \"terminoss\", \r\n                    component: () => import(\"../components/TerminosServicio.vue\") \r\n                },\r\n            ],\r\n        },\r\n        {\r\n            path: \"/:pathMatch(.*)*\",\r\n            redirect: \"/\"\r\n        }\r\n    ],\r\n});\r\n\r\n// Navegación protegida - solo para rutas específicas que requieren autenticación\r\nrouter.beforeEach((to, from, next) => {\r\n    const protectedRoutes = ['/app/perfil', '/app/crearproducto', '/app/editarp'];\r\n    const isAuthenticated = localStorage.getItem('user')\r\n    \r\n    if (protectedRoutes.includes(to.path)) {\r\n        if (!isAuthenticated) {\r\n            next('/login')\r\n        } else {\r\n            next()\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,MAAMC,MAAM,GAAGF,YAAY,CAAC;EACxBG,OAAO,EAAEF,gBAAgB,CAAC,CAAC;EAC3BG,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,GAAG;IACTC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B,CAAC;IACvDC,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,EAAE;MACRC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,uBAAuB,CAAC;MAChDE,WAAW,EAAEA,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;QAC7BA,IAAI,CAAC,gBAAgB,CAAC;MAC1B;IACJ,CAAC,EACD;MAAEN,IAAI,EAAE,OAAO;MAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,wBAAwB;IAAE,CAAC,EACpE;MAAED,IAAI,EAAE,UAAU;MAAEC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B;IAAE,CAAC;EAElF,CAAC,EACD;IACID,IAAI,EAAE,MAAM;IACZC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B,CAAC;IACpDC,QAAQ,EAAE,CACN;MACIF,IAAI,EAAE,EAAE;MACRO,QAAQ,EAAE;IACd,CAAC,EACD;MACIP,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,eAAe;MACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;IACxD,CAAC,EACD;MACID,IAAI,EAAE,sBAAsB;MAC5BQ,IAAI,EAAE,kBAAkB;MACxBP,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,2BAA2B;IACvD,CAAC,EACD;MACID,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,yBAAyB;IACrD,CAAC,EACD;MACID,IAAI,EAAE,SAAS;MACfC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,8BAA8B;IAC1D,CAAC,EACD;MACID,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oCAAoC;IAChE,CAAC;EAET,CAAC,EACD;IACID,IAAI,EAAE,kBAAkB;IACxBO,QAAQ,EAAE;EACd,CAAC;AAET,CAAC,CAAC;;AAEF;AACAV,MAAM,CAACY,UAAU,CAAC,CAACL,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMI,eAAe,GAAG,CAAC,aAAa,EAAE,oBAAoB,EAAE,cAAc,CAAC;EAC7E,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAEpD,IAAIH,eAAe,CAACI,QAAQ,CAACV,EAAE,CAACJ,IAAI,CAAC,EAAE;IACnC,IAAI,CAACW,eAAe,EAAE;MAClBL,IAAI,CAAC,QAAQ,CAAC;IAClB,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ,CAAC,MAAM;IACHA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAeT,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}