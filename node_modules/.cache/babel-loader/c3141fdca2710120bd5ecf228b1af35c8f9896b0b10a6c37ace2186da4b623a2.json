{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:8090/api';\nexport default createStore({\n  state: {\n    user: null,\n    isAuthenticated: false,\n    products: [],\n    loading: false,\n    error: null\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n      state.isAuthenticated = !!user;\n    },\n    setProducts(state, products) {\n      state.products = products;\n    },\n    setLoading(state, status) {\n      state.loading = status;\n    },\n    setError(state, error) {\n      state.error = error;\n    },\n    addProduct(state, product) {\n      state.products.push(product);\n    },\n    updateProduct(state, updatedProduct) {\n      const index = state.products.findIndex(p => p.id === updatedProduct.id);\n      if (index !== -1) {\n        state.products.splice(index, 1, updatedProduct);\n      }\n    },\n    deleteProduct(state, productId) {\n      state.products = state.products.filter(p => p.id !== productId);\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, credentials) {\n      try {\n        const formData = new FormData();\n        formData.append('username', credentials.email);\n        formData.append('password', credentials.password);\n        const response = await axios.post(`${API_URL}/token`, formData);\n        if (response.data.access_token) {\n          localStorage.setItem('token', response.data.access_token);\n          commit('setUser', {\n            email: credentials.email\n          });\n          return true;\n        }\n      } catch (error) {\n        commit('setError', error.response?.data?.detail || 'Error en el inicio de sesión');\n        throw error;\n      }\n    },\n    async register({\n      commit\n    }, userData) {\n      try {\n        await axios.post(`${API_URL}/users/`, userData);\n        return true;\n      } catch (error) {\n        commit('setError', error.response?.data?.detail || 'Error en el registro');\n        throw error;\n      }\n    },\n    logout({\n      commit\n    }) {\n      localStorage.removeItem('token');\n      commit('setUser', null);\n    },\n    async fetchProducts({\n      commit\n    }) {\n      try {\n        commit('setLoading', true);\n        const response = await axios.get(`${API_URL}/products`);\n        commit('setProducts', response.data);\n      } catch (error) {\n        commit('setError', 'Error al cargar los productos');\n      } finally {\n        commit('setLoading', false);\n      }\n    },\n    async createProduct({\n      commit\n    }, productData) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.post(`${API_URL}/products`, productData, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        commit('addProduct', response.data);\n        return response.data;\n      } catch (error) {\n        commit('setError', 'Error al crear el producto');\n        throw error;\n      }\n    },\n    async updateProduct({\n      commit\n    }, {\n      id,\n      data\n    }) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.put(`${API_URL}/products/${id}`, data, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        commit('updateProduct', response.data);\n        return response.data;\n      } catch (error) {\n        commit('setError', 'Error al actualizar el producto');\n        throw error;\n      }\n    },\n    async deleteProduct({\n      commit\n    }, productId) {\n      try {\n        const token = localStorage.getItem('token');\n        await axios.delete(`${API_URL}/products/${productId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        commit('deleteProduct', productId);\n      } catch (error) {\n        commit('setError', 'Error al eliminar el producto');\n        throw error;\n      }\n    }\n  },\n  getters: {\n    isAuthenticated: state => state.isAuthenticated,\n    currentUser: state => state.user,\n    allProducts: state => state.products,\n    isLoading: state => state.loading,\n    error: state => state.error\n  }\n});","map":{"version":3,"names":["createStore","axios","API_URL","state","user","isAuthenticated","products","loading","error","mutations","setUser","setProducts","setLoading","status","setError","addProduct","product","push","updateProduct","updatedProduct","index","findIndex","p","id","splice","deleteProduct","productId","filter","actions","login","commit","credentials","formData","FormData","append","email","password","response","post","data","access_token","localStorage","setItem","detail","register","userData","logout","removeItem","fetchProducts","get","createProduct","productData","token","getItem","headers","Authorization","put","delete","getters","currentUser","allProducts","isLoading"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\n\r\nconst API_URL = 'http://localhost:8090/api'\r\n\r\nexport default createStore({\r\n  state: {\r\n    user: null,\r\n    isAuthenticated: false,\r\n    products: [],\r\n    loading: false,\r\n    error: null\r\n  },\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user\r\n      state.isAuthenticated = !!user\r\n    },\r\n    setProducts(state, products) {\r\n      state.products = products\r\n    },\r\n    setLoading(state, status) {\r\n      state.loading = status\r\n    },\r\n    setError(state, error) {\r\n      state.error = error\r\n    },\r\n    addProduct(state, product) {\r\n      state.products.push(product)\r\n    },\r\n    updateProduct(state, updatedProduct) {\r\n      const index = state.products.findIndex(p => p.id === updatedProduct.id)\r\n      if (index !== -1) {\r\n        state.products.splice(index, 1, updatedProduct)\r\n      }\r\n    },\r\n    deleteProduct(state, productId) {\r\n      state.products = state.products.filter(p => p.id !== productId)\r\n    }\r\n  },\r\n  actions: {\r\n    async login({ commit }, credentials) {\r\n      try {\r\n        const formData = new FormData()\r\n        formData.append('username', credentials.email)\r\n        formData.append('password', credentials.password)\r\n        const response = await axios.post(`${API_URL}/token`, formData)\r\n        \r\n        if (response.data.access_token) {\r\n          localStorage.setItem('token', response.data.access_token)\r\n          commit('setUser', { email: credentials.email })\r\n          return true\r\n        }\r\n      } catch (error) {\r\n        commit('setError', error.response?.data?.detail || 'Error en el inicio de sesión')\r\n        throw error\r\n      }\r\n    },\r\n\r\n    async register({ commit }, userData) {\r\n      try {\r\n        await axios.post(`${API_URL}/users/`, userData)\r\n        return true\r\n      } catch (error) {\r\n        commit('setError', error.response?.data?.detail || 'Error en el registro')\r\n        throw error\r\n      }\r\n    },\r\n\r\n    logout({ commit }) {\r\n      localStorage.removeItem('token')\r\n      commit('setUser', null)\r\n    },\r\n\r\n    async fetchProducts({ commit }) {\r\n      try {\r\n        commit('setLoading', true)\r\n        const response = await axios.get(`${API_URL}/products`)\r\n        commit('setProducts', response.data)\r\n      } catch (error) {\r\n        commit('setError', 'Error al cargar los productos')\r\n      } finally {\r\n        commit('setLoading', false)\r\n      }\r\n    },\r\n\r\n    async createProduct({ commit }, productData) {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.post(`${API_URL}/products`, productData, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        commit('addProduct', response.data)\r\n        return response.data\r\n      } catch (error) {\r\n        commit('setError', 'Error al crear el producto')\r\n        throw error\r\n      }\r\n    },\r\n\r\n    async updateProduct({ commit }, { id, data }) {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        const response = await axios.put(`${API_URL}/products/${id}`, data, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        commit('updateProduct', response.data)\r\n        return response.data\r\n      } catch (error) {\r\n        commit('setError', 'Error al actualizar el producto')\r\n        throw error\r\n      }\r\n    },\r\n\r\n    async deleteProduct({ commit }, productId) {\r\n      try {\r\n        const token = localStorage.getItem('token')\r\n        await axios.delete(`${API_URL}/products/${productId}`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n        commit('deleteProduct', productId)\r\n      } catch (error) {\r\n        commit('setError', 'Error al eliminar el producto')\r\n        throw error\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    isAuthenticated: state => state.isAuthenticated,\r\n    currentUser: state => state.user,\r\n    allProducts: state => state.products,\r\n    isLoading: state => state.loading,\r\n    error: state => state.error\r\n  }\r\n}) "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}