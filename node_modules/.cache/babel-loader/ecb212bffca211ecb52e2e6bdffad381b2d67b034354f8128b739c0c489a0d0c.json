{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/maylo/OneDrive/Escritorio/novo-front 1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport axios from './axios';\nexport var authService = {\n  register: function register(userData) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var isConnected, response;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.checkConnection();\n          case 3:\n            isConnected = _context.sent;\n            if (isConnected) {\n              _context.next = 6;\n              break;\n            }\n            throw new Error('No se puede conectar al servidor');\n          case 6:\n            _context.next = 8;\n            return axios.post('/auth/register', userData);\n          case 8:\n            response = _context.sent;\n            if (response) {\n              _context.next = 11;\n              break;\n            }\n            throw new Error('Respuesta inv치lida del servidor');\n          case 11:\n            if (response.token) {\n              localStorage.setItem('token', response.token);\n            }\n            return _context.abrupt(\"return\", response);\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error en registro:', _context.t0);\n            throw _context.t0;\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 15]]);\n    }))();\n  },\n  login: function login(credentials) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.post('/auth/login', credentials);\n          case 3:\n            response = _context2.sent;\n            if (response) {\n              _context2.next = 6;\n              break;\n            }\n            throw new Error('Respuesta inv치lida del servidor');\n          case 6:\n            if (response.token) {\n              localStorage.setItem('token', response.token);\n            }\n            return _context2.abrupt(\"return\", response);\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error('Error en login:', _context2.t0);\n            throw _context2.t0;\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 10]]);\n    }))();\n  },\n  logout: function logout() {\n    localStorage.removeItem('token');\n    window.location.href = '/';\n  },\n  isAuthenticated: function isAuthenticated() {\n    return !!localStorage.getItem('token');\n  },\n  getToken: function getToken() {\n    return localStorage.getItem('token');\n  }\n};","map":{"version":3,"names":["axios","authService","register","userData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isConnected","response","wrap","_callee$","_context","prev","next","checkConnection","sent","Error","post","token","localStorage","setItem","abrupt","t0","console","error","stop","login","credentials","_callee2","_callee2$","_context2","logout","removeItem","window","location","href","isAuthenticated","getItem","getToken"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/services/auth.js"],"sourcesContent":["import axios from './axios'\r\n\r\nexport const authService = {\r\n  async register(userData) {\r\n    try {\r\n      const isConnected = await axios.checkConnection()\r\n      if (!isConnected) {\r\n        throw new Error('No se puede conectar al servidor')\r\n      }\r\n\r\n      const response = await axios.post('/auth/register', userData)\r\n      if (!response) {\r\n        throw new Error('Respuesta inv치lida del servidor')\r\n      }\r\n      \r\n      if (response.token) {\r\n        localStorage.setItem('token', response.token)\r\n      }\r\n      return response\r\n    } catch (error) {\r\n      console.error('Error en registro:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async login(credentials) {\r\n    try {\r\n      const response = await axios.post('/auth/login', credentials)\r\n      if (!response) {\r\n        throw new Error('Respuesta inv치lida del servidor')\r\n      }\r\n      \r\n      if (response.token) {\r\n        localStorage.setItem('token', response.token)\r\n      }\r\n      return response\r\n    } catch (error) {\r\n      console.error('Error en login:', error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  logout() {\r\n    localStorage.removeItem('token')\r\n    window.location.href = '/'\r\n  },\r\n\r\n  isAuthenticated() {\r\n    return !!localStorage.getItem('token')\r\n  },\r\n\r\n  getToken() {\r\n    return localStorage.getItem('token')\r\n  }\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}