{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"products-page\"\n};\nconst _hoisted_2 = {\n  class: \"filters\"\n};\nconst _hoisted_3 = {\n  class: \"filter-group\"\n};\nconst _hoisted_4 = {\n  class: \"filter-options\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  class: \"filter-group\"\n};\nconst _hoisted_7 = {\n  class: \"price-inputs\"\n};\nconst _hoisted_8 = {\n  class: \"products-grid\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"no-products\"\n};\nconst _hoisted_11 = [\"src\", \"alt\"];\nconst _hoisted_12 = {\n  class: \"product-info\"\n};\nconst _hoisted_13 = {\n  class: \"price\"\n};\nconst _hoisted_14 = {\n  class: \"category\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", null, \"Productos\", -1 /* HOISTED */)), _createCommentVNode(\" Filtros \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"h3\", null, \"Categorías\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.categories, category => {\n    return _createElementVNode(\"label\", {\n      key: category.id\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: category.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.selectedCategories = $event),\n      onChange: $setup.applyFilters\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_5), [[_vModelCheckbox, $setup.selectedCategories]]), _createTextVNode(\" \" + _toDisplayString(category.label), 1 /* TEXT */)]);\n  }), 64 /* STABLE_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_6, [_cache[5] || (_cache[5] = _createElementVNode(\"h3\", null, \"Precio\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.priceRange.min = $event),\n    placeholder: \"Min\",\n    onChange: $setup.applyFilters\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.priceRange.min]]), _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"-\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.priceRange.max = $event),\n    placeholder: \"Max\",\n    onChange: $setup.applyFilters\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.priceRange.max]])])])]), _createCommentVNode(\" Lista de productos \"), _createElementVNode(\"div\", _hoisted_8, [$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" Cargando productos... \")) : $setup.products.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" No se encontraron productos con los filtros seleccionados. \")) : (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 2\n  }, _renderList($setup.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"product-card\",\n      key: product.id\n    }, [_createElementVNode(\"img\", {\n      src: product.image_url || '/placeholder.png',\n      alt: product.title\n    }, null, 8 /* PROPS */, _hoisted_11), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h3\", null, _toDisplayString(product.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_13, \"$\" + _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_14, _toDisplayString(product.category), 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: {\n        path: '/app/detallesproducto',\n        query: {\n          id: product.id\n        }\n      },\n      class: \"view-details\"\n    }, {\n      default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\" Ver detalles \")]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$setup","categories","category","id","type","value","_cache","$event","selectedCategories","onChange","applyFilters","_hoisted_5","_createTextVNode","_toDisplayString","label","_hoisted_6","_hoisted_7","priceRange","min","placeholder","max","_hoisted_8","loading","_hoisted_9","products","length","_hoisted_10","product","src","image_url","alt","title","_hoisted_11","_hoisted_12","_hoisted_13","price","_hoisted_14","_createVNode","_component_router_link","to","path","query","default","_withCtx","_"],"sources":["C:\\Users\\maylo\\OneDrive\\Escritorio\\novo-front 1\\src\\views\\ProductosPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-page\">\r\n    <h1>Productos</h1>\r\n    \r\n    <!-- Filtros -->\r\n    <div class=\"filters\">\r\n      <div class=\"filter-group\">\r\n        <h3>Categorías</h3>\r\n        <div class=\"filter-options\">\r\n          <label v-for=\"category in categories\" :key=\"category.id\">\r\n            <input \r\n              type=\"checkbox\" \r\n              :value=\"category.value\"\r\n              v-model=\"selectedCategories\"\r\n              @change=\"applyFilters\"\r\n            >\r\n            {{ category.label }}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filter-group\">\r\n        <h3>Precio</h3>\r\n        <div class=\"price-inputs\">\r\n          <input \r\n            type=\"number\" \r\n            v-model=\"priceRange.min\" \r\n            placeholder=\"Min\"\r\n            @change=\"applyFilters\"\r\n          >\r\n          <span>-</span>\r\n          <input \r\n            type=\"number\" \r\n            v-model=\"priceRange.max\" \r\n            placeholder=\"Max\"\r\n            @change=\"applyFilters\"\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Lista de productos -->\r\n    <div class=\"products-grid\">\r\n      <div v-if=\"loading\" class=\"loading\">\r\n        Cargando productos...\r\n      </div>\r\n      <div v-else-if=\"products.length === 0\" class=\"no-products\">\r\n        No se encontraron productos con los filtros seleccionados.\r\n      </div>\r\n      <div v-else class=\"product-card\" v-for=\"product in products\" :key=\"product.id\">\r\n        <img :src=\"product.image_url || '/placeholder.png'\" :alt=\"product.title\">\r\n        <div class=\"product-info\">\r\n          <h3>{{ product.title }}</h3>\r\n          <p class=\"price\">${{ product.price }}</p>\r\n          <p class=\"category\">{{ product.category }}</p>\r\n          <router-link :to=\"{ path: '/app/detallesproducto', query: { id: product.id }}\" class=\"view-details\">\r\n            Ver detalles\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { productService } from '@/services/api'\r\n\r\nconst route = useRoute()\r\nconst loading = ref(false)\r\nconst products = ref([])\r\nconst selectedCategories = ref([])\r\nconst priceRange = ref({ min: '', max: '' })\r\n\r\nconst categories = [\r\n  { id: 1, label: 'Libros', value: 'libros' },\r\n  { id: 2, label: 'Notas', value: 'notas' },\r\n  { id: 3, label: 'Electronicos', value: 'electronicos' },\r\n  { id: 4, label: 'Suministros', value: 'suministros' }\r\n]\r\n\r\n// Cargar productos con filtros\r\nconst loadProducts = async () => {\r\n  loading.value = true\r\n  try {\r\n    const filters = {\r\n      categories: selectedCategories.value,\r\n      minPrice: priceRange.value.min || undefined,\r\n      maxPrice: priceRange.value.max || undefined\r\n    }\r\n    const response = await productService.getFilteredProducts(filters)\r\n    products.value = response\r\n  } catch (error) {\r\n    console.error('Error al cargar productos:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Aplicar filtros\r\nconst applyFilters = () => {\r\n  loadProducts()\r\n}\r\n\r\n// Observar cambios en la ruta para actualizar filtros\r\nwatch(() => route.query, (newQuery) => {\r\n  if (newQuery.category && !selectedCategories.value.includes(newQuery.category)) {\r\n    selectedCategories.value = [newQuery.category]\r\n    loadProducts()\r\n  }\r\n}, { immediate: true })\r\n\r\nonMounted(() => {\r\n  // Si hay una categoría en la URL, seleccionarla\r\n  if (route.query.category) {\r\n    selectedCategories.value = [route.query.category]\r\n  }\r\n  loadProducts()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.products-page {\r\n  padding: 2rem;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n  padding: 1rem;\r\n  background-color: #f9fafb;\r\n  border-radius: 0.5rem;\r\n}\r\n\r\n.filter-group {\r\n  flex: 1;\r\n}\r\n\r\n.filter-group h3 {\r\n  margin-bottom: 0.5rem;\r\n  font-size: 1rem;\r\n  color: #374151;\r\n}\r\n\r\n.filter-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.filter-options label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.price-inputs {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.price-inputs input {\r\n  width: 100px;\r\n  padding: 0.5rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.25rem;\r\n}\r\n\r\n.products-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 2rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.product-card {\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 0.5rem;\r\n  overflow: hidden;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.product-card img {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.product-info {\r\n  padding: 1rem;\r\n}\r\n\r\n.product-info h3 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  color: #1f2937;\r\n}\r\n\r\n.price {\r\n  font-size: 1.25rem;\r\n  font-weight: bold;\r\n  color: #059669;\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.category {\r\n  color: #6b7280;\r\n  font-size: 0.875rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.view-details {\r\n  display: inline-block;\r\n  padding: 0.5rem 1rem;\r\n  background-color: #1f2937;\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 0.25rem;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.view-details:hover {\r\n  background-color: #374151;\r\n}\r\n\r\n.loading, .no-products {\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 2rem;\r\n  color: #6b7280;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}