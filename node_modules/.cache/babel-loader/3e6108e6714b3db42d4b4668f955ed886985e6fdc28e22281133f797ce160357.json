{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"home\"\n};\nvar _hoisted_2 = {\n  key: 0,\n  \"class\": \"auth-container\"\n};\nvar _hoisted_3 = {\n  \"class\": \"auth-form\"\n};\nvar _hoisted_4 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_5 = {\n  \"class\": \"form-group\"\n};\nvar _hoisted_6 = {\n  type: \"submit\",\n  \"class\": \"btn-primary\"\n};\nvar _hoisted_7 = {\n  key: 1,\n  \"class\": \"tasks-container\"\n};\nvar _hoisted_8 = {\n  \"class\": \"header\"\n};\nvar _hoisted_9 = {\n  \"class\": \"new-task\"\n};\nvar _hoisted_10 = {\n  \"class\": \"tasks-list\"\n};\nvar _hoisted_11 = {\n  \"class\": \"task-content\"\n};\nvar _hoisted_12 = {\n  \"class\": \"task-actions\"\n};\nvar _hoisted_13 = [\"onClick\"];\nvar _hoisted_14 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$data.isLoggedIn ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h2\", null, _toDisplayString($data.isRegistering ? 'Registro' : 'Iniciar Sesión'), 1 /* TEXT */), _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers(function () {\n      return $options.handleSubmit && $options.handleSubmit.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", null, \"Email:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.email = $event;\n    }),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"Contraseña:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.password = $event;\n    }),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createElementVNode(\"button\", _hoisted_6, _toDisplayString($data.isRegistering ? 'Registrarse' : 'Iniciar Sesión'), 1 /* TEXT */)], 32 /* NEED_HYDRATION */), _createElementVNode(\"p\", {\n    onClick: _cache[3] || (_cache[3] = function ($event) {\n      return $data.isRegistering = !$data.isRegistering;\n    }),\n    \"class\": \"toggle-auth\"\n  }, _toDisplayString($data.isRegistering ? '¿Ya tienes cuenta? Inicia sesión' : '¿No tienes cuenta? Regístrate'), 1 /* TEXT */)])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", null, \"Mis Tareas\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.logout && $options.logout.apply($options, arguments);\n    }),\n    \"class\": \"btn-secondary\"\n  }, \"Cerrar Sesión\")]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers(function () {\n      return $options.createNewTask && $options.createNewTask.apply($options, arguments);\n    }, [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $data.newTask.title = $event;\n    }),\n    placeholder: \"Título de la tarea\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newTask.title]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $data.newTask.description = $event;\n    }),\n    placeholder: \"Descripción (opcional)\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newTask.description]]), _cache[11] || (_cache[11] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    \"class\": \"btn-primary\"\n  }, \"Agregar Tarea\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tasks, function (task) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: task.id,\n      \"class\": \"task-item\"\n    }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", null, _toDisplayString(task.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(task.description), 1 /* TEXT */), _createElementVNode(\"small\", null, \"Creada: \" + _toDisplayString(new Date(task.created_at).toLocaleDateString()), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.toggleTaskComplete(task);\n      },\n      \"class\": _normalizeClass(['btn-status', task.completed ? 'completed' : ''])\n    }, _toDisplayString(task.completed ? 'Completada' : 'Pendiente'), 11 /* TEXT, CLASS, PROPS */, _hoisted_13), _createElementVNode(\"button\", {\n      onClick: function onClick($event) {\n        return $options.deleteTask(task.id);\n      },\n      \"class\": \"btn-danger\"\n    }, \"Eliminar\", 8 /* PROPS */, _hoisted_14)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]))]);\n}","map":{"version":3,"names":["key","type","_createElementBlock","_hoisted_1","$data","isLoggedIn","_hoisted_2","_createElementVNode","_hoisted_3","_toDisplayString","isRegistering","onSubmit","_cache","_withModifiers","$options","handleSubmit","apply","arguments","_hoisted_4","$event","email","required","_hoisted_5","password","_hoisted_6","onClick","_hoisted_7","_hoisted_8","logout","_hoisted_9","createNewTask","newTask","title","placeholder","description","_hoisted_10","_Fragment","_renderList","tasks","task","id","_hoisted_11","Date","created_at","toLocaleDateString","_hoisted_12","toggleTaskComplete","_normalizeClass","completed","_hoisted_13","deleteTask","_hoisted_14"],"sources":["C:\\Users\\maylo\\OneDrive\\Escritorio\\novo-front 1\\src\\views\\Home.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div v-if=\"!isLoggedIn\" class=\"auth-container\">\r\n      <div class=\"auth-form\">\r\n        <h2>{{ isRegistering ? 'Registro' : 'Iniciar Sesión' }}</h2>\r\n        <form @submit.prevent=\"handleSubmit\">\r\n          <div class=\"form-group\">\r\n            <label>Email:</label>\r\n            <input type=\"email\" v-model=\"email\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Contraseña:</label>\r\n            <input type=\"password\" v-model=\"password\" required>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn-primary\">\r\n            {{ isRegistering ? 'Registrarse' : 'Iniciar Sesión' }}\r\n          </button>\r\n        </form>\r\n        <p @click=\"isRegistering = !isRegistering\" class=\"toggle-auth\">\r\n          {{ isRegistering ? '¿Ya tienes cuenta? Inicia sesión' : '¿No tienes cuenta? Regístrate' }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"tasks-container\">\r\n      <div class=\"header\">\r\n        <h2>Mis Tareas</h2>\r\n        <button @click=\"logout\" class=\"btn-secondary\">Cerrar Sesión</button>\r\n      </div>\r\n\r\n      <div class=\"new-task\">\r\n        <form @submit.prevent=\"createNewTask\">\r\n          <input type=\"text\" v-model=\"newTask.title\" placeholder=\"Título de la tarea\" required>\r\n          <input type=\"text\" v-model=\"newTask.description\" placeholder=\"Descripción (opcional)\">\r\n          <button type=\"submit\" class=\"btn-primary\">Agregar Tarea</button>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"tasks-list\">\r\n        <div v-for=\"task in tasks\" :key=\"task.id\" class=\"task-item\">\r\n          <div class=\"task-content\">\r\n            <h3>{{ task.title }}</h3>\r\n            <p>{{ task.description }}</p>\r\n            <small>Creada: {{ new Date(task.created_at).toLocaleDateString() }}</small>\r\n          </div>\r\n          <div class=\"task-actions\">\r\n            <button @click=\"toggleTaskComplete(task)\" \r\n                    :class=\"['btn-status', task.completed ? 'completed' : '']\">\r\n              {{ task.completed ? 'Completada' : 'Pendiente' }}\r\n            </button>\r\n            <button @click=\"deleteTask(task.id)\" class=\"btn-danger\">Eliminar</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { authService, taskService } from '@/services/api';\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    return {\r\n      isLoggedIn: false,\r\n      isRegistering: false,\r\n      email: '',\r\n      password: '',\r\n      tasks: [],\r\n      newTask: {\r\n        title: '',\r\n        description: ''\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.checkAuth();\r\n  },\r\n  methods: {\r\n    async checkAuth() {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        this.isLoggedIn = true;\r\n        await this.loadTasks();\r\n      }\r\n    },\r\n    async handleSubmit() {\r\n      try {\r\n        if (this.isRegistering) {\r\n          await authService.register(this.email, this.password);\r\n        }\r\n        await authService.login(this.email, this.password);\r\n        this.isLoggedIn = true;\r\n        this.loadTasks();\r\n      } catch (error) {\r\n        console.error('Error de autenticación:', error);\r\n        alert('Error en la autenticación. Por favor, intenta de nuevo.');\r\n      }\r\n    },\r\n    logout() {\r\n      authService.logout();\r\n      this.isLoggedIn = false;\r\n      this.tasks = [];\r\n    },\r\n    async loadTasks() {\r\n      try {\r\n        this.tasks = await taskService.getTasks();\r\n      } catch (error) {\r\n        console.error('Error al cargar tareas:', error);\r\n      }\r\n    },\r\n    async createNewTask() {\r\n      try {\r\n        await taskService.createTask(this.newTask);\r\n        this.newTask.title = '';\r\n        this.newTask.description = '';\r\n        await this.loadTasks();\r\n      } catch (error) {\r\n        console.error('Error al crear tarea:', error);\r\n      }\r\n    },\r\n    async toggleTaskComplete(task) {\r\n      try {\r\n        await taskService.updateTask(task.id, {\r\n          ...task,\r\n          completed: !task.completed\r\n        });\r\n        await this.loadTasks();\r\n      } catch (error) {\r\n        console.error('Error al actualizar tarea:', error);\r\n      }\r\n    },\r\n    async deleteTask(taskId) {\r\n      try {\r\n        await taskService.deleteTask(taskId);\r\n        await this.loadTasks();\r\n      } catch (error) {\r\n        console.error('Error al eliminar tarea:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.auth-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 80vh;\r\n}\r\n\r\n.auth-form {\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n\r\ninput {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #666;\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-danger {\r\n  background-color: #dc3545;\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.toggle-auth {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  color: #666;\r\n  cursor: pointer;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.new-task {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.task-item {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.task-content h3 {\r\n  margin: 0 0 10px 0;\r\n}\r\n\r\n.task-content p {\r\n  color: #666;\r\n  margin: 0 0 5px 0;\r\n}\r\n\r\n.task-content small {\r\n  color: #999;\r\n}\r\n\r\n.task-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.btn-status {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background-color: #ffc107;\r\n  color: black;\r\n}\r\n\r\n.btn-status.completed {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n</style> "],"mappings":";;;;;EACO,SAAM;AAAM;;EADnBA,GAAA;EAE4B,SAAM;;;EACvB,SAAM;AAAW;;EAGb,SAAM;AAAY;;EAIlB,SAAM;AAAY;;EAIfC,IAAI,EAAC,QAAQ;EAAC,SAAM;;;EAdtCD,GAAA;EAwBgB,SAAM;;;EACX,SAAM;AAAQ;;EAKd,SAAM;AAAU;;EAQhB,SAAM;AAAY;;EAEd,SAAM;AAAc;;EAKpB,SAAM;AAAc;kBA7CnC;kBAAA;;uBACEE,mBAAA,CAsDM,OAtDNC,UAsDM,G,CArDQC,KAAA,CAAAC,UAAU,I,cAAtBH,mBAAA,CAoBM,OApBNI,UAoBM,GAnBJC,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJD,mBAAA,CAA4D,YAAAE,gBAAA,CAArDL,KAAA,CAAAM,aAAa,kDACpBH,mBAAA,CAYO;IAZAI,QAAM,EAAAC,MAAA,QAAAA,MAAA,MALrBC,cAAA;MAAA,OAK+BC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAY;IAAA;MACjCV,mBAAA,CAGM,OAHNW,UAGM,G,0BAFJX,mBAAA,CAAqB,eAAd,QAAM,sB,gBACbA,mBAAA,CAA6C;IAAtCN,IAAI,EAAC,OAAO;IAR/B,uBAAAW,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAQyCf,KAAA,CAAAgB,KAAK,GAAAD,MAAA;IAAA;IAAEE,QAAQ,EAAR;iDAAPjB,KAAA,CAAAgB,KAAK,E,KAEpCb,mBAAA,CAGM,OAHNe,UAGM,G,0BAFJf,mBAAA,CAA0B,eAAnB,aAAW,sB,gBAClBA,mBAAA,CAAmD;IAA5CN,IAAI,EAAC,UAAU;IAZlC,uBAAAW,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAY4Cf,KAAA,CAAAmB,QAAQ,GAAAJ,MAAA;IAAA;IAAEE,QAAQ,EAAR;iDAAVjB,KAAA,CAAAmB,QAAQ,E,KAE1ChB,mBAAA,CAES,UAFTiB,UAES,EAAAf,gBAAA,CADJL,KAAA,CAAAM,aAAa,oD,4BAGpBH,mBAAA,CAEI;IAFAkB,OAAK,EAAAb,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAAEf,KAAA,CAAAM,aAAa,IAAIN,KAAA,CAAAM,aAAa;IAAA;IAAE,SAAM;sBAC5CN,KAAA,CAAAM,aAAa,wF,sBAKtBR,mBAAA,CA8BM,OA9BNwB,UA8BM,GA7BJnB,mBAAA,CAGM,OAHNoB,UAGM,G,4BAFJpB,mBAAA,CAAmB,YAAf,YAAU,sBACdA,mBAAA,CAAoE;IAA3DkB,OAAK,EAAAb,MAAA,QAAAA,MAAA;MAAA,OAAEE,QAAA,CAAAc,MAAA,IAAAd,QAAA,CAAAc,MAAA,CAAAZ,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAM;IAAA;IAAE,SAAM;KAAgB,eAAa,E,GAG7DV,mBAAA,CAMM,OANNsB,UAMM,GALJtB,mBAAA,CAIO;IAJAI,QAAM,EAAAC,MAAA,QAAAA,MAAA,MA/BrBC,cAAA;MAAA,OA+B+BC,QAAA,CAAAgB,aAAA,IAAAhB,QAAA,CAAAgB,aAAA,CAAAd,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAa;IAAA;sBAClCV,mBAAA,CAAqF;IAA9EN,IAAI,EAAC,MAAM;IAhC5B,uBAAAW,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAgCsCf,KAAA,CAAA2B,OAAO,CAACC,KAAK,GAAAb,MAAA;IAAA;IAAEc,WAAW,EAAC,oBAAoB;IAACZ,QAAQ,EAAR;iDAAhDjB,KAAA,CAAA2B,OAAO,CAACC,KAAK,E,mBACzCzB,mBAAA,CAAsF;IAA/EN,IAAI,EAAC,MAAM;IAjC5B,uBAAAW,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAiCsCf,KAAA,CAAA2B,OAAO,CAACG,WAAW,GAAAf,MAAA;IAAA;IAAEc,WAAW,EAAC;iDAAjC7B,KAAA,CAAA2B,OAAO,CAACG,WAAW,E,+BAC/C3B,mBAAA,CAAgE;IAAxDN,IAAI,EAAC,QAAQ;IAAC,SAAM;KAAc,eAAa,qB,8BAI3DM,mBAAA,CAeM,OAfN4B,WAeM,I,kBAdJjC,mBAAA,CAaMkC,SAAA,QApDdC,WAAA,CAuC4BjC,KAAA,CAAAkC,KAAK,EAvCjC,UAuCoBC,IAAI;yBAAhBrC,mBAAA,CAaM;MAbsBF,GAAG,EAAEuC,IAAI,CAACC,EAAE;MAAE,SAAM;QAC9CjC,mBAAA,CAIM,OAJNkC,WAIM,GAHJlC,mBAAA,CAAyB,YAAAE,gBAAA,CAAlB8B,IAAI,CAACP,KAAK,kBACjBzB,mBAAA,CAA6B,WAAAE,gBAAA,CAAvB8B,IAAI,CAACL,WAAW,kBACtB3B,mBAAA,CAA2E,eAApE,UAAQ,GAAAE,gBAAA,KAAOiC,IAAI,CAACH,IAAI,CAACI,UAAU,EAAEC,kBAAkB,mB,GAEhErC,mBAAA,CAMM,OANNsC,WAMM,GALJtC,mBAAA,CAGS;MAHAkB,OAAK,WAALA,OAAKA,CAAAN,MAAA;QAAA,OAAEL,QAAA,CAAAgC,kBAAkB,CAACP,IAAI;MAAA;MAC9B,SA/CrBQ,eAAA,gBA+C2CR,IAAI,CAACS,SAAS;wBACxCT,IAAI,CAACS,SAAS,6DAhD/BC,WAAA,GAkDY1C,mBAAA,CAAyE;MAAhEkB,OAAK,WAALA,OAAKA,CAAAN,MAAA;QAAA,OAAEL,QAAA,CAAAoC,UAAU,CAACX,IAAI,CAACC,EAAE;MAAA;MAAG,SAAM;OAAa,UAAQ,iBAlD5EW,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}