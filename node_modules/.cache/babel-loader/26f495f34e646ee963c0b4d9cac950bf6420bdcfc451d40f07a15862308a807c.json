{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { productService } from '@/services/api';\nexport default {\n  __name: 'ProductosPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const loading = ref(false);\n    const products = ref([]);\n    const selectedCategories = ref([]);\n    const priceRange = ref({\n      min: '',\n      max: ''\n    });\n    const categories = [{\n      id: 1,\n      label: 'Libros',\n      value: 'libros'\n    }, {\n      id: 2,\n      label: 'Notas',\n      value: 'notas'\n    }, {\n      id: 3,\n      label: 'Electronicos',\n      value: 'electronicos'\n    }, {\n      id: 4,\n      label: 'Suministros',\n      value: 'suministros'\n    }];\n\n    // Cargar productos con filtros\n    const loadProducts = async () => {\n      loading.value = true;\n      try {\n        const filters = {\n          categories: selectedCategories.value,\n          minPrice: priceRange.value.min || undefined,\n          maxPrice: priceRange.value.max || undefined\n        };\n        const response = await productService.getFilteredProducts(filters);\n        products.value = response;\n      } catch (error) {\n        console.error('Error al cargar productos:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Aplicar filtros\n    const applyFilters = () => {\n      loadProducts();\n    };\n\n    // Observar cambios en la ruta para actualizar filtros\n    watch(() => route.query, newQuery => {\n      if (newQuery.category && !selectedCategories.value.includes(newQuery.category)) {\n        selectedCategories.value = [newQuery.category];\n        loadProducts();\n      }\n    }, {\n      immediate: true\n    });\n    onMounted(() => {\n      // Si hay una categoría en la URL, seleccionarla\n      if (route.query.category) {\n        selectedCategories.value = [route.query.category];\n      }\n      loadProducts();\n    });\n    const __returned__ = {\n      route,\n      loading,\n      products,\n      selectedCategories,\n      priceRange,\n      categories,\n      loadProducts,\n      applyFilters,\n      ref,\n      onMounted,\n      watch,\n      get useRoute() {\n        return useRoute;\n      },\n      get productService() {\n        return productService;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","useRoute","productService","route","loading","products","selectedCategories","priceRange","min","max","categories","id","label","value","loadProducts","filters","minPrice","undefined","maxPrice","response","getFilteredProducts","error","console","applyFilters","query","newQuery","category","includes","immediate"],"sources":["C:/Users/maylo/OneDrive/Escritorio/novo-front 1/src/views/ProductosPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-page\">\r\n    <h1>Productos</h1>\r\n    \r\n    <!-- Filtros -->\r\n    <div class=\"filters\">\r\n      <div class=\"filter-group\">\r\n        <h3>Categorías</h3>\r\n        <div class=\"filter-options\">\r\n          <label v-for=\"category in categories\" :key=\"category.id\">\r\n            <input \r\n              type=\"checkbox\" \r\n              :value=\"category.value\"\r\n              v-model=\"selectedCategories\"\r\n              @change=\"applyFilters\"\r\n            >\r\n            {{ category.label }}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filter-group\">\r\n        <h3>Precio</h3>\r\n        <div class=\"price-inputs\">\r\n          <input \r\n            type=\"number\" \r\n            v-model=\"priceRange.min\" \r\n            placeholder=\"Min\"\r\n            @change=\"applyFilters\"\r\n          >\r\n          <span>-</span>\r\n          <input \r\n            type=\"number\" \r\n            v-model=\"priceRange.max\" \r\n            placeholder=\"Max\"\r\n            @change=\"applyFilters\"\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Lista de productos -->\r\n    <div class=\"products-grid\">\r\n      <div v-if=\"loading\" class=\"loading\">\r\n        Cargando productos...\r\n      </div>\r\n      <div v-else-if=\"products.length === 0\" class=\"no-products\">\r\n        No se encontraron productos con los filtros seleccionados.\r\n      </div>\r\n      <div v-else class=\"product-card\" v-for=\"product in products\" :key=\"product.id\">\r\n        <img :src=\"product.image_url || '/placeholder.png'\" :alt=\"product.title\">\r\n        <div class=\"product-info\">\r\n          <h3>{{ product.title }}</h3>\r\n          <p class=\"price\">${{ product.price }}</p>\r\n          <p class=\"category\">{{ product.category }}</p>\r\n          <router-link :to=\"{ path: '/app/detallesproducto', query: { id: product.id }}\" class=\"view-details\">\r\n            Ver detalles\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { productService } from '@/services/api'\r\n\r\nconst route = useRoute()\r\nconst loading = ref(false)\r\nconst products = ref([])\r\nconst selectedCategories = ref([])\r\nconst priceRange = ref({ min: '', max: '' })\r\n\r\nconst categories = [\r\n  { id: 1, label: 'Libros', value: 'libros' },\r\n  { id: 2, label: 'Notas', value: 'notas' },\r\n  { id: 3, label: 'Electronicos', value: 'electronicos' },\r\n  { id: 4, label: 'Suministros', value: 'suministros' }\r\n]\r\n\r\n// Cargar productos con filtros\r\nconst loadProducts = async () => {\r\n  loading.value = true\r\n  try {\r\n    const filters = {\r\n      categories: selectedCategories.value,\r\n      minPrice: priceRange.value.min || undefined,\r\n      maxPrice: priceRange.value.max || undefined\r\n    }\r\n    const response = await productService.getFilteredProducts(filters)\r\n    products.value = response\r\n  } catch (error) {\r\n    console.error('Error al cargar productos:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Aplicar filtros\r\nconst applyFilters = () => {\r\n  loadProducts()\r\n}\r\n\r\n// Observar cambios en la ruta para actualizar filtros\r\nwatch(() => route.query, (newQuery) => {\r\n  if (newQuery.category && !selectedCategories.value.includes(newQuery.category)) {\r\n    selectedCategories.value = [newQuery.category]\r\n    loadProducts()\r\n  }\r\n}, { immediate: true })\r\n\r\nonMounted(() => {\r\n  // Si hay una categoría en la URL, seleccionarla\r\n  if (route.query.category) {\r\n    selectedCategories.value = [route.query.category]\r\n  }\r\n  loadProducts()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.products-page {\r\n  padding: 2rem;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 2rem;\r\n  margin-bottom: 2rem;\r\n  padding: 1rem;\r\n  background-color: #f9fafb;\r\n  border-radius: 0.5rem;\r\n}\r\n\r\n.filter-group {\r\n  flex: 1;\r\n}\r\n\r\n.filter-group h3 {\r\n  margin-bottom: 0.5rem;\r\n  font-size: 1rem;\r\n  color: #374151;\r\n}\r\n\r\n.filter-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.filter-options label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.price-inputs {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.price-inputs input {\r\n  width: 100px;\r\n  padding: 0.5rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.25rem;\r\n}\r\n\r\n.products-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 2rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.product-card {\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 0.5rem;\r\n  overflow: hidden;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.product-card img {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.product-info {\r\n  padding: 1rem;\r\n}\r\n\r\n.product-info h3 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  color: #1f2937;\r\n}\r\n\r\n.price {\r\n  font-size: 1.25rem;\r\n  font-weight: bold;\r\n  color: #059669;\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.category {\r\n  color: #6b7280;\r\n  font-size: 0.875rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.view-details {\r\n  display: inline-block;\r\n  padding: 0.5rem 1rem;\r\n  background-color: #1f2937;\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 0.25rem;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.view-details:hover {\r\n  background-color: #374151;\r\n}\r\n\r\n.loading, .no-products {\r\n  grid-column: 1 / -1;\r\n  text-align: center;\r\n  padding: 2rem;\r\n  color: #6b7280;\r\n}\r\n</style>"],"mappings":"AAiEA,SAASA,GAAG,EAAEC,SAAS,EAAEC,KAAK,QAAQ,KAAK;AAC3C,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,cAAc,QAAQ,gBAAgB;;;;;;;IAE/C,MAAMC,KAAK,GAAGF,QAAQ,CAAC,CAAC;IACxB,MAAMG,OAAO,GAAGN,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMQ,kBAAkB,GAAGR,GAAG,CAAC,EAAE,CAAC;IAClC,MAAMS,UAAU,GAAGT,GAAG,CAAC;MAAEU,GAAG,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC,CAAC;IAE5C,MAAMC,UAAU,GAAG,CACjB;MAAEC,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE,QAAQ;MAAEC,KAAK,EAAE;IAAS,CAAC,EAC3C;MAAEF,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAQ,CAAC,EACzC;MAAEF,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAe,CAAC,EACvD;MAAEF,EAAE,EAAE,CAAC;MAAEC,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAc,CAAC,CACtD;;IAED;IACA,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/BV,OAAO,CAACS,KAAK,GAAG,IAAI;MACpB,IAAI;QACF,MAAME,OAAO,GAAG;UACdL,UAAU,EAAEJ,kBAAkB,CAACO,KAAK;UACpCG,QAAQ,EAAET,UAAU,CAACM,KAAK,CAACL,GAAG,IAAIS,SAAS;UAC3CC,QAAQ,EAAEX,UAAU,CAACM,KAAK,CAACJ,GAAG,IAAIQ;QACpC,CAAC;QACD,MAAME,QAAQ,GAAG,MAAMjB,cAAc,CAACkB,mBAAmB,CAACL,OAAO,CAAC;QAClEV,QAAQ,CAACQ,KAAK,GAAGM,QAAQ;MAC3B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,SAAS;QACRjB,OAAO,CAACS,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;;IAED;IACA,MAAMU,YAAY,GAAGA,CAAA,KAAM;MACzBT,YAAY,CAAC,CAAC;IAChB,CAAC;;IAED;IACAd,KAAK,CAAC,MAAMG,KAAK,CAACqB,KAAK,EAAGC,QAAQ,IAAK;MACrC,IAAIA,QAAQ,CAACC,QAAQ,IAAI,CAACpB,kBAAkB,CAACO,KAAK,CAACc,QAAQ,CAACF,QAAQ,CAACC,QAAQ,CAAC,EAAE;QAC9EpB,kBAAkB,CAACO,KAAK,GAAG,CAACY,QAAQ,CAACC,QAAQ,CAAC;QAC9CZ,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,EAAE;MAAEc,SAAS,EAAE;IAAK,CAAC,CAAC;IAEvB7B,SAAS,CAAC,MAAM;MACd;MACA,IAAII,KAAK,CAACqB,KAAK,CAACE,QAAQ,EAAE;QACxBpB,kBAAkB,CAACO,KAAK,GAAG,CAACV,KAAK,CAACqB,KAAK,CAACE,QAAQ,CAAC;MACnD;MACAZ,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}